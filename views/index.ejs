<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%- appProperties.title %></title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;500;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Alfa+Slab+One&display=swap');

  </style>
  <link rel='icon' href='/images/favicon.ico'>
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <div class="zone" id="top">
    <h2><%- appProperties.title %></h2>
    <div id="intro">
      被你發現了，這是一個匿名的留言板<br>
      可以選擇公開在下面，或是只限我看的到<br>
      想靠北還是講冷笑話都行，滿足一下無聊的我<br>
      既然你都點進來了，辣就留一句話再走吧！<br>
    </div>
  </div>
  <div class="zone" id="input_zone">
    <h3>New Comment</h3>
    <div class="block" id="form">
      <form action="/submitted" method="post">
        <div class="input_field textbox_field" id="nickname_field">
          <input type="text" id="nickname" maxlength="25" required>
          <span>暱稱</span>
        </div>
        <div class="input_field textbox_field" id="comment_field">
          <input type="text" id="content" maxlength="200" required>
          <span>在此留下你的足跡</span>
        </div>
        <div class="input_field" id="isPrivate_field">
          <input type="checkbox" id="isPrivate" name="isPrivate">
          <label for="isPrivate">私密留言(將不會顯示在下面)</label>
        </div>
        <div class="input_field" id="send_field">
          <input type="submit" id="send_enable" value="送出">
        </div>
      </form>
    </div>
  </div>

  <div class="zone" id="message_zone"></div>

  <div class="zone" id="comment_zone">
    <h3>所有公開留言</h3>
    <div id="public_comments">
      <% var count = sum %>
      <% for (var i = 0; i < comments.length; i++) { %>
      <div class="block">
        <% if (count < 10) { %>
        <div class="no">0<%= count %></div>
        <% } else { %>
        <div class="no"><%= count %></div>
        <% } %>
        <div class="author"><%= comments[i].nickname %></div>
        <div class="line"></div>
        <div class="content"><%= comments[i].content %></div>
        <div class="date"><%= comments[i].time[0] %>/<%= comments[i].time[1] %>/<%= comments[i].time[2] %> <%= comments[i].time[3] %>:<%= comments[i].time[4] %>:<%= comments[i].time[5] %></div>
      </div>
      <% count-- %>
      <% } %>
    </div>
  </div>

  <div id="footer">
    <p>Made by PurpleRed on July, 2021.</p>
  </div>

  <img id="bg" src="images/dog_shadow_cut.png">

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="js/index.js"></script>
</body>
</html>
